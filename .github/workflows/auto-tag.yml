name: auto-tag
on:
  push:
    branches:
    - main
jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v4
    - name: tag
      run: |
        git config user.name "sif741852014"
        git config user.email "asiftkmohammed@gmail.com"
    - name: push
      env:
        GITHUB_TOKEN: ${{ secrets.pat }}
      run: |
        TAG_NAME="build-$(date +'%Y%m%d%H%M%S')"
        git tag $TAG_NAME
        git push https://x-access-token:${GITHUB_TOKEN}@github.com/asif741852014/settingdockeraction.git $TAG_NAME
